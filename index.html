<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emerg√™ncia Hospital</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 12px 12px 60px; }
        .container { max-width: 500px; margin: 0 auto; }
        .emergency-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; position: sticky; top: 0; z-index: 100; background: rgba(255,255,255,0.98); padding: 12px; border-radius: 12px; box-shadow: 0 6px 25px rgba(0,0,0,0.3); }
        .emergency-btn { background: #dc2626; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 20px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 12px rgba(220,38,38,0.4); transition: all 0.2s; text-decoration: none; display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .emergency-btn:active { transform: scale(0.95); }
        .emergency-number { font-size: 28px; font-weight: 900; }
        .emergency-label { font-size: 13px; font-weight: normal; }
        .toggle-container { background: white; padding: 12px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 3px 12px rgba(0,0,0,0.1); }
        .toggle-wrapper { display: flex; gap: 8px; background: #f3f4f6; border-radius: 8px; padding: 4px; }
        .toggle-btn { flex: 1; padding: 10px; border: none; background: transparent; border-radius: 6px; font-size: 15px; font-weight: bold; cursor: pointer; transition: all 0.3s; color: #6b7280; }
        .toggle-btn.active { background: white; color: #667eea; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
        .place-card { background: white; border-radius: 12px; padding: 15px; margin-bottom: 12px; box-shadow: 0 3px 12px rgba(0,0,0,0.08); }
        .place-name { font-size: 18px; font-weight: bold; color: #1f2937; margin-bottom: 6px; line-height: 1.3; }
        .place-info { display: flex; flex-direction: column; gap: 5px; margin-bottom: 10px; }
        .info-item { display: flex; align-items: center; gap: 6px; font-size: 15px; color: #6b7280; }
        .distance { background: #dbeafe; color: #1e40af; padding: 3px 8px; border-radius: 15px; font-size: 14px; font-weight: bold; display: inline-block; }
        .action-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }
        .action-btn { padding: 12px; border: none; border-radius: 8px; font-size: 15px; font-weight: bold; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 5px; text-decoration: none; }
        .uber-btn { background: #000000; color: white; }
        .whatsapp-btn { background: #25D366; color: white; }
        .action-btn:active { transform: scale(0.95); }
        .loading { text-align: center; padding: 30px; color: white; font-size: 18px; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 1000; justify-content: center; align-items: center; padding: 20px; }
        .modal.show { display: flex; }
        .modal-content { background: white; padding: 25px; border-radius: 15px; max-width: 380px; width: 100%; }
        .modal-title { font-size: 22px; font-weight: bold; margin-bottom: 8px; color: #1f2937; }
        .modal-subtitle { font-size: 15px; color: #6b7280; margin-bottom: 20px; }
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; font-size: 17px; font-weight: bold; margin-bottom: 6px; color: #374151; }
        .form-input { width: 100%; padding: 13px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 17px; }
        .form-input:focus { outline: none; border-color: #667eea; }
        .modal-btn { width: 100%; padding: 15px; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; background: #667eea; color: white; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <div class="emergency-buttons">
            <a href="tel:192" class="emergency-btn"><span class="emergency-number">192</span><span class="emergency-label">SAMU</span></a>
            <a href="tel:193" class="emergency-btn"><span class="emergency-number">193</span><span class="emergency-label">BOMBEIROS</span></a>
        </div>
        <div class="toggle-container">
            <div class="toggle-wrapper">
                <button class="toggle-btn active" onclick="showHospitals()">üè• HOSPITAIS</button>
                <button class="toggle-btn" onclick="showLabs()">üî¨ EXAMES</button>
            </div>
        </div>
        <div id="loading" class="loading">üìç Buscando localiza√ß√£o...</div>
        <div id="hospitals-list" class="hidden"></div>
        <div id="labs-list" class="hidden"></div>
    </div>
    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <div class="modal-title">üë§ Contato de Emerg√™ncia</div>
            <div class="modal-subtitle">Para avisar quando precisar</div>
            <div class="form-group">
                <label class="form-label">Nome:</label>
                <input type="text" id="contact-name" class="form-input" placeholder="Digite o nome">
            </div>
            <div class="form-group">
                <label class="form-label">Telefone:</label>
                <input type="tel" id="contact-phone" class="form-input" placeholder="(11) 99999-9999">
            </div>
            <button class="modal-btn" onclick="saveContact()">SALVAR</button>
        </div>
    </div>
    <script>
        const hospitals=[{name:"Hospital Vit√≥ria",address:"Vila Regente Feij√≥",phone:"(11) 3581-1000",lat:-23.5556,lng:-46.5489},{name:"Hospital Santa Clara",address:"Vila Matilde",phone:"(11) 2023-9988",lat:-23.5456,lng:-46.5289},{name:"Hospital Interm√©dica An√°lia Franco",address:"Vila Formosa",phone:"(11) 2076-4000",lat:-23.5556,lng:-46.5489},{name:"Hospital Nipo Brasileiro",address:"Parque Novo Mundo",phone:"(11) 2633-2200",lat:-23.5156,lng:-46.5689},{name:"Hospital Bosque Sa√∫de",address:"Sa√∫de",phone:"(11) 5591-7500",lat:-23.6156,lng:-46.6289},{name:"Hospital S√£o Camilo Ipiranga",address:"Vila Monumento",phone:"(11) 2066-7000",lat:-23.5956,lng:-46.6089},{name:"Hospital N. Sra. Ros√°rio",address:"Vila Maria Alta",phone:"(11) 2632-6000",lat:-23.5089,lng:-46.5789},{name:"HSANP - Hospital",address:"Santana",phone:"(11) 3405-8200",lat:-23.5053,lng:-46.6289},{name:"Hospital S√£o Camilo Santana",address:"Santana",phone:"(11) 2972-8000",lat:-23.5056,lng:-46.6256},{name:"Hospital Adventista SP",address:"Liberdade",phone:"(11) 2838-7000",lat:-23.5656,lng:-46.6389},{name:"Hospital Central Leste",address:"Vila Iolanda",phone:"(11) 2551-5151",lat:-23.5556,lng:-46.4489},{name:"Hospital Vidas",address:"Vila Santana",phone:"(11) 3321-9450",lat:-23.5089,lng:-46.6589},{name:"Hospital Paranagu√°",address:"Ermelino Matarazzo",phone:"(11) 2542-4000",lat:-23.4978,lng:-46.4789}];
        const labs=[{name:"Femme Lab - Mooca",address:"Mooca",phone:"(11) 3050-9043",lat:-23.5503,lng:-46.5928},{name:"Femme Lab - Vila Gomes",address:"Vila Gomes Cardim",phone:"(11) 3050-9043",lat:-23.5556,lng:-46.5489},{name:"Crya Medicina Diagn√≥stica",address:"Quarta Parada",phone:"(11) 2076-7880",lat:-23.5556,lng:-46.5289},{name:"Biofast Medicina",address:"Vila Gomes Cardim",phone:"(11) 5180-7750",lat:-23.5556,lng:-46.5489},{name:"Gimi Radiologia",address:"Vila Esperan√ßa",phone:"(11) 3796-6500",lat:-23.5289,lng:-46.5289},{name:"Femme Lab - Para√≠so",address:"Para√≠so",phone:"(11) 3050-9043",lat:-23.5703,lng:-46.6423},{name:"Salom√£o e Zoppi",address:"Para√≠so",phone:"(11) 5576-7878",lat:-23.5703,lng:-46.6423},{name:"Instituto Hermes Pardini",address:"Itaquera",phone:"(11) 4020-2573",lat:-23.5389,lng:-46.4556},{name:"Militello",address:"Liberdade",phone:"(11) 2307-9979",lat:-23.5656,lng:-46.6389},{name:"Lab Oswaldo Cruz",address:"Vila Maria",phone:"(11) 2636-8520",lat:-23.5089,lng:-46.5789}];
        let userLat,userLng,pendingHospital=null,currentView='hospitals';
        function calcDistance(lat1,lng1,lat2,lng2){const R=6371;const dLat=(lat2-lat1)*Math.PI/180;const dLng=(lng2-lng1)*Math.PI/180;const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180)*Math.sin(dLng/2)*Math.sin(dLng/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;}
        function renderPlaces(places,containerId){const container=document.getElementById(containerId);container.innerHTML='';places.forEach(place=>{const dist=userLat&&userLng?calcDistance(userLat,userLng,place.lat,place.lng):0;const card=document.createElement('div');card.className='place-card';card.innerHTML=`<div class="place-name">${place.name}</div><div class="place-info"><div class="info-item">üìç ${place.address}</div><div class="info-item">üìû ${place.phone}</div>${dist>0?`<div class="info-item"><span class="distance">${dist.toFixed(1)} km</span></div>`:''}</div><div class="action-buttons"><a href="uber://?action=setPickup&pickup=my_location&dropoff[latitude]=${place.lat}&dropoff[longitude]=${place.lng}&dropoff[nickname]=${encodeURIComponent(place.name)}" class="action-btn uber-btn" onclick="requestUber('${place.name}','${place.address}')">üöó UBER</a><a href="https://wa.me/" class="action-btn whatsapp-btn" onclick="sendWhatsApp('${place.name}','${place.address}')">üí¨ AVISAR</a></div>`;container.appendChild(card);});}
        function showHospitals(){currentView='hospitals';document.querySelectorAll('.toggle-btn')[0].classList.add('active');document.querySelectorAll('.toggle-btn')[1].classList.remove('active');document.getElementById('hospitals-list').classList.remove('hidden');document.getElementById('labs-list').classList.add('hidden');}
        function showLabs(){currentView='labs';document.querySelectorAll('.toggle-btn')[1].classList.add('active');document.querySelectorAll('.toggle-btn')[0].classList.remove('active');document.getElementById('labs-list').classList.remove('hidden');document.getElementById('hospitals-list').classList.add('hidden');}
        function requestUber(name,address){const contact=localStorage.getItem('emergency_contact');if(!contact){pendingHospital={name,address};document.getElementById('contact-modal').classList.add('show');}else{window.location.href=`uber://?action=setPickup&pickup=my_location&dropoff[nickname]=${encodeURIComponent(name)}`;setTimeout(()=>sendWhatsApp(name,address),1000);}}
        function sendWhatsApp(name,address){const contact=localStorage.getItem('emergency_contact');const phone=localStorage.getItem('emergency_phone');if(contact&&phone){const msg
